<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/head', { title: 'SeekoBharat - E-Learning Platform' }) %>
</head>
<body>
  <%- include('partials/navbar') %>
  
  <!-- Hero Section -->
  <section class="hero bg-primary text-white py-16 bg-black">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0">
          <h1 class="text-4xl md:text-5xl font-bold mb-4">Expand Your Knowledge with SeekoBharat</h1>
          <p class="text-xl mb-6">Learn from industry experts and advance your career with our comprehensive courses.</p>
          <div class="flex flex-wrap gap-4">
            <a href="/courses" class="btn btn-light">Browse Courses</a>
            <a href="/register" class="btn btn-outline-light">Sign Up for Free</a>
          </div>
        </div>
        <div class="md:w-1/2">
          <img src="/img/hero-image.svg" alt="Learning Illustration" class="w-full max-w-lg mx-auto">
        </div>
      </div>
    </div>
  </section>
  
  <!-- Featured Courses -->
  <section class="py-16 bg-black">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">Featured Courses</h2>
      <div id="featured-courses-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Loading skeleton -->
        <div class="course-card animate-pulse">
          <div class="bg-gray-300 w-full h-48 rounded-t-lg"></div>
          <div class="p-6">
            <div class="h-6 bg-gray-300 rounded mb-2"></div>
            <div class="h-4 bg-gray-300 rounded mb-4 w-2/3"></div>
            <div class="h-4 bg-gray-300 rounded mb-4"></div>
            <div class="h-10 bg-gray-300 rounded"></div>
          </div>
        </div>
        <div class="course-card animate-pulse">
          <div class="bg-gray-300 w-full h-48 rounded-t-lg"></div>
          <div class="p-6">
            <div class="h-6 bg-gray-300 rounded mb-2"></div>
            <div class="h-4 bg-gray-300 rounded mb-4 w-2/3"></div>
            <div class="h-4 bg-gray-300 rounded mb-4"></div>
            <div class="h-10 bg-gray-300 rounded"></div>
          </div>
        </div>
        <div class="course-card animate-pulse">
          <div class="bg-gray-300 w-full h-48 rounded-t-lg"></div>
          <div class="p-6">
            <div class="h-6 bg-gray-300 rounded mb-2"></div>
            <div class="h-4 bg-gray-300 rounded mb-4 w-2/3"></div>
            <div class="h-4 bg-gray-300 rounded mb-4"></div>
            <div class="h-10 bg-gray-300 rounded"></div>
          </div>
        </div>
      </div>
      <div class="text-center mt-8">
        <a href="/courses" class="btn btn-outline-primary">View All Courses</a>
      </div>
    </div>
  </section>
  
  <!-- Categories -->
  <section class="py-16 bg-black">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">Popular Categories</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <a href="/courses?category=Web Development" class="category-card">
          <div class="icon">
            <i class="fas fa-code"></i>
          </div>
          <h3>Web Development</h3>
        </a>
        <a href="/courses?category=JavaScript" class="category-card">
          <div class="icon">
            <i class="fab fa-js"></i>
          </div>
          <h3>JavaScript</h3>
        </a>
        <a href="/courses?category=React" class="category-card">
          <div class="icon">
            <i class="fab fa-react"></i>
          </div>
          <h3>React</h3>
        </a>
        <a href="/courses?category=Backend" class="category-card">
          <div class="icon">
            <i class="fas fa-server"></i>
          </div>
          <h3>Backend</h3>
        </a>
      </div>
    </div>
  </section>
  
  <!-- Features -->
  <section class="py-16 bg-black">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">Why Choose SeekoBharat?</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="feature-card">
          <div class="icon">
            <i class="fas fa-laptop-code"></i>
          </div>
          <h3>Expert Instructors</h3>
          <p>Learn from industry professionals with years of real-world experience.</p>
        </div>
        <div class="feature-card">
          <div class="icon">
            <i class="fas fa-certificate"></i>
          </div>
          <h3>Certificates</h3>
          <p>Earn certificates upon course completion to showcase your skills.</p>
        </div>
        <div class="feature-card">
          <div class="icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>Learn at Your Pace</h3>
          <p>Access course content anytime, anywhere, and learn at your own pace.</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Testimonials -->
  <section class="py-16 bg-black">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">What Our Students Say</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="testimonial-card">
          <div class="rating">★★★★★</div>
          <p class="quote">"SeekoBharat has completely transformed my career. The Web Development Bootcamp gave me all the skills I needed to land my dream job."</p>
          <div class="student">
            <img src="/img/testimonials/student1.jpg" alt="Student" class="avatar">
            <div>
              <h4>Alex Johnson</h4>
              <p>Web Developer</p>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="rating">★★★★★</div>
          <p class="quote">"The instructors are amazing! They explain complex concepts in a way that's easy to understand and are always available to answer questions."</p>
          <div class="student">
            <img src="/img/testimonials/student2.jpg" alt="Student" class="avatar">
            <div>
              <h4>Emily Davis</h4>
              <p>Frontend Developer</p>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="rating">★★★★★</div>
          <p class="quote">"I've tried many online learning platforms, but SeekoBharat stands out with its high-quality content and interactive learning experience."</p>
          <div class="student">
            <img src="/img/testimonials/student3.jpg" alt="Student" class="avatar">
            <div>
              <h4>Michael Brown</h4>
              <p>Full Stack Developer</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- CTA -->
  <section class="py-16 bg-black text-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-4">Ready to Start Learning?</h2>
      <p class="text-xl mb-8">Join thousands of students and expand your knowledge today.</p>
      <div class="flex flex-wrap justify-center gap-4">
        <a href="/courses" class="btn btn-light">Browse Courses</a>
        <a href="/register" class="btn btn-outline-light">Sign Up for Free</a>
      </div>
    </div>
  </section>
  
  <%- include('partials/footer') %>
  <%- include('partials/scripts') %>
  
  <!-- Home page specific scripts -->
  <script src="/js/home.js"></script>
</body>
</html>

    <!-- Hero Section -->
    <section class="hero bg-primary text-white py-16 bg-black">
      <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center">
          <div class="md:w-1/2 mb-8 md:mb-0">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">
              Expand Your Knowledge with SeekoBharat
            </h1>
            <p class="text-xl mb-6">
              Learn from industry experts and advance your career with our
              comprehensive courses.
            </p>
            <div class="flex flex-wrap gap-4">
              <a href="/courses" class="btn btn-light">Browse Courses</a>
              <a href="/register" class="btn btn-outline-light"
                >Sign Up for Free</a
              >
            </div>
          </div>
          <div class="md:w-1/2">
            <img
              src="/img/hero-image.svg"
              alt="Learning Illustration"
              class="w-full max-w-lg mx-auto"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Courses -->
    <section class="py-16 bg-black">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold mb-8 text-center">Featured Courses</h2>

        <!-- Loading State -->
        <div id="courses-loading" class="text-center py-12">
          <div
            class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"
          ></div>
          <p class="mt-4 text-gray-400">Loading featured courses...</p>
        </div>

        <!-- Courses Grid -->
        <div
          id="courses-grid"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          style="display: none"
        >
          <!-- Courses will be dynamically inserted here -->
        </div>

        <!-- Error State -->
        <div id="courses-error" class="text-center py-12" style="display: none">
          <div class="text-red-400 mb-4">
            <i class="fas fa-exclamation-circle text-5xl"></i>
          </div>
          <p class="text-gray-400">
            Unable to load courses. Please try again later.
          </p>
        </div>

        <div class="text-center mt-8">
          <a href="/courses" class="btn btn-outline-primary"
            >View All Courses</a
          >
        </div>
      </div>
    </section>

    <!-- Categories -->
    <section class="py-16 bg-black">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold mb-8 text-center">Popular Categories</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <a href="/courses?category=Web Development" class="category-card">
            <div class="icon">
              <i class="fas fa-code"></i>
            </div>
            <h3>Web Development</h3>
          </a>
          <a href="/courses?category=JavaScript" class="category-card">
            <div class="icon">
              <i class="fab fa-js"></i>
            </div>
            <h3>JavaScript</h3>
          </a>
          <a href="/courses?category=React" class="category-card">
            <div class="icon">
              <i class="fab fa-react"></i>
            </div>
            <h3>React</h3>
          </a>
          <a href="/courses?category=Backend" class="category-card">
            <div class="icon">
              <i class="fas fa-server"></i>
            </div>
            <h3>Backend</h3>
          </a>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section class="py-16 bg-black">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold mb-8 text-center">
          Why Choose SeekoBharat?
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="feature-card">
            <div class="icon">
              <i class="fas fa-laptop-code"></i>
            </div>
            <h3>Expert Instructors</h3>
            <p>
              Learn from industry professionals with years of real-world
              experience.
            </p>
          </div>
          <div class="feature-card">
            <div class="icon">
              <i class="fas fa-certificate"></i>
            </div>
            <h3>Certificates</h3>
            <p>
              Earn certificates upon course completion to showcase your skills.
            </p>
          </div>
          <div class="feature-card">
            <div class="icon">
              <i class="fas fa-clock"></i>
            </div>
            <h3>Learn at Your Pace</h3>
            <p>
              Access course content anytime, anywhere, and learn at your own
              pace.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    <section class="py-16 bg-black">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold mb-8 text-center">
          What Our Students Say
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="testimonial-card">
            <div class="rating">★★★★★</div>
            <p class="quote">
              "SeekoBharat has completely transformed my career. The Web
              Development Bootcamp gave me all the skills I needed to land my
              dream job."
            </p>
            <div class="student">
              <img
                src="/img/testimonials/student1.jpg"
                alt="Student"
                class="avatar"
              />
              <div>
                <h4>Alex Johnson</h4>
                <p>Web Developer</p>
              </div>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="rating">★★★★★</div>
            <p class="quote">
              "The instructors are amazing! They explain complex concepts in a
              way that's easy to understand and are always available to answer
              questions."
            </p>
            <div class="student">
              <img
                src="/img/testimonials/student2.jpg"
                alt="Student"
                class="avatar"
              />
              <div>
                <h4>Emily Davis</h4>
                <p>Frontend Developer</p>
              </div>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="rating">★★★★★</div>
            <p class="quote">
              "I've tried many online learning platforms, but SeekoBharat stands
              out with its high-quality content and interactive learning
              experience."
            </p>
            <div class="student">
              <img
                src="/img/testimonials/student3.jpg"
                alt="Student"
                class="avatar"
              />
              <div>
                <h4>Michael Brown</h4>
                <p>Full Stack Developer</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-16 bg-black text-white">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Start Learning?</h2>
        <p class="text-xl mb-8">
          Join thousands of students and expand your knowledge today.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="/courses" class="btn btn-light">Browse Courses</a>
          <a href="/register" class="btn btn-outline-light">Sign Up for Free</a>
        </div>
      </div>
    </section>

    <%- include('partials/footer') %> <%- include('partials/scripts') %>

    <script>
      // Fetch and render featured courses
      document.addEventListener("DOMContentLoaded", async function () {
        const loadingEl = document.getElementById("courses-loading");
        const gridEl = document.getElementById("courses-grid");
        const errorEl = document.getElementById("courses-error");

        try {
          // Fetch featured courses from API
          const response = await fetch("/api/featured-courses", {
            method: "GET",
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
            },
          });

          if (!response.ok) {
            throw new Error("Failed to fetch courses");
          }

          const data = await response.json();

          if (data.success && data.courses && data.courses.length > 0) {
            // Hide loading, show grid
            loadingEl.style.display = "none";
            gridEl.style.display = "grid";

            // Render courses
            renderCourses(data.courses);
          } else {
            // No courses found
            loadingEl.style.display = "none";
            errorEl.querySelector("p").textContent =
              "No featured courses available at the moment.";
            errorEl.style.display = "block";
          }
        } catch (error) {
          console.error("Error loading featured courses:", error);
          loadingEl.style.display = "none";
          errorEl.style.display = "block";
        }

        function renderCourses(courses) {
          gridEl.innerHTML = ""; // Clear existing content

          courses.forEach((course) => {
            const courseCard = createCourseCard(course);
            gridEl.appendChild(courseCard);
          });
        }

        function createCourseCard(course) {
          const card = document.createElement("div");
          card.className = "course-card";

          // Create card HTML
          card.innerHTML = `
          <img src="${escapeHtml(course.thumbnail)}" alt="${escapeHtml(
            course.title
          )}" class="w-full h-48 object-cover rounded-t-lg">
          <div class="p-6">
            <div class="flex justify-between items-start mb-2">
              <h3 class="text-xl font-bold">${escapeHtml(course.title)}</h3>
              <span class="badge badge-primary">$${parseFloat(
                course.price
              ).toFixed(2)}</span>
            </div>
            <p class="text-gray-600 mb-4">${escapeHtml(course.instructor)}</p>
            <div class="flex justify-between items-center mb-4">
              <div class="flex items-center">
                <span class="text-yellow-500 mr-1">★</span>
                <span>${parseFloat(course.rating).toFixed(1)}</span>
                <span class="text-gray-500 ml-1">(${
                  course.students || 0
                })</span>
              </div>
              <span class="badge badge-secondary">${escapeHtml(
                course.category
              )}</span>
            </div>
            <a href="/courses/${
              course._id
            }" class="btn btn-primary w-full">View Course</a>
          </div>
        `;

          return card;
        }

        // Helper function to escape HTML and prevent XSS
        function escapeHtml(text) {
          const map = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#039;",
          };
          return String(text).replace(/[&<>"']/g, (m) => map[m]);
        }
      });
    </script>
  </body>
</html>
